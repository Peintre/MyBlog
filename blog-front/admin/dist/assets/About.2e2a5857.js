import{i as c}from"./image-conversion.2d06665b.js";import{_}from"./index.ae6b5db7.js";import{ag as a,o as g,Q as f,R as n,a as h,W as b,X as m,V as C}from"./@vue.9e9a2d45.js";import"./@babel.1ce85722.js";import"./axios.cdba3bd7.js";import"./form-data.d1f94bc2.js";import"./vue-router.b11bef48.js";import"./vuex.029ab250.js";import"./vuex-persistedstate.fa252374.js";import"./nprogress.8c2c2e00.js";import"./vue-axios.516efde1.js";import"./element-plus.e856da41.js";import"./lodash-es.1d9717e1.js";import"./@vueuse.15af719d.js";import"./@element-plus.b2728cca.js";import"./@popperjs.36402333.js";import"./@ctrl.82a509e0.js";import"./dayjs.68f6f475.js";import"./async-validator.fb49d0f5.js";import"./memoize-one.4ee5c96d.js";import"./escape-html.e5dfadb9.js";import"./normalize-wheel-es.8aeb3683.js";import"./@floating-ui.f14f28ca.js";import"./@kangc.b9a0ef8b.js";import"./vue.a84c3055.js";import"./markdown-it-emoji.952032df.js";import"./@vuepress.3e7afe62.js";import"./markdown-it-container.512a5043.js";import"./highlight.js.6e93349b.js";import"./codemirror.59d98cc1.js";const A={created(){this.getAbout()},data:function(){return{aboutContent:""}},methods:{getAbout(){this.axios.get("/api/websiteConfig/about").then(({data:t})=>{this.aboutContent=t.data})},uploadImg(t,e){var o=new FormData;e.size/1024<this.config.UPLOAD_SIZE?(o.append("file",e),this.axios.post("/api/admin/articles/images",o).then(({data:i})=>{this.$refs.md.$img2Url(t,i.data)})):c.compressAccurately(e,this.config.UPLOAD_SIZE).then(i=>{o.append("file",new window.File([i],e.name,{type:e.type})),this.axios.post("/api/admin/articles/images",o).then(({data:s})=>{this.$refs.md.$img2Url(t,s.data)})})},updateAbout(){this.axios.post("/api/websiteConfig/updateAbout",{aboutContent:this.aboutContent}).then(({data:t})=>{t.flag?this.$notify.success({title:"\u6210\u529F",message:t.message}):this.$notify.error({title:"\u5931\u8D25",message:t.message})})}}},v={class:"title"};function y(t,e,o,i,s,r){const p=a("v-md-editor"),d=a("el-button"),u=a("el-card");return g(),f(u,{class:"main-card my-card-about"},{default:n(()=>[h("div",v,b(this.$route.name),1),m(p,{modelValue:t.aboutContent,"onUpdate:modelValue":e[0]||(e[0]=l=>t.aboutContent=l),ref:"md",onImgAdd:r.uploadImg},null,8,["modelValue","onImgAdd"]),m(d,{type:"danger",size:"default",class:"edit-btn",onClick:r.updateAbout},{default:n(()=>[C(" \u4FEE\u6539 ")]),_:1},8,["onClick"])]),_:1})}var Y=_(A,[["render",y],["__scopeId","data-v-891c31d0"]]);export{Y as default};
